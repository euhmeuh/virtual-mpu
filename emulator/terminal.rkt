#lang racket/base

(require charterm)

#| Mockup 1: Main view
┌──────────────────╥─Main program──────────────────────────────────────────────┐
│ A    00  B    00 ║00╎ lda a $80                                              │
│ IX 0000  PC 0004 ║01╎ psha                                                   │
│ SP 0004          ║02╎ lda a $00                                              │
│╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌║03╎ psha                                                   │
│ H  I  N  Z  V  C ║04┝╸jsr memcpy                                             │
│ 0  0  0  0  0  0 ║05╎                                                        │
│╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌║06╎                                                        │
│ Machine  RIL011W ║07╎                                                        │
│ MPU         6802 ║08╎                                                        │
│ ROM    0000-0FFF ║09╎                                                        │
│ ACIA   1000-1001 ║0A╎                                                        │
│ RAM    2000-FFFF ║0B╎                                                        │
┝╸Stack       FFFF ║0C╎                                                        │
│╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌║0D╎                                                        │
│ Pause      space ║0E╎                                                        │
│ Step           s ║0F╎                                                        │
│ Interrupt      i ╟─Stack─────────────────────────────────────────────────────┤
│ Exit          ^D ║ 00 01 02 03 04 00 00 00 00 00 00 00 00 00 00 00 00 00 00  │
└──────────────────╨──────────────┸────────────────────────────────────────────┘
|#

#| Mockup 2: With interrupt sideview
┌──────────────────╥─Main program──────────────────┬─Interrupt─────────────────┐
│ A    00  B    00 ║00╎ lda a $80                  │A4╎ ldab #1                │
│ IX 0000  PC 00A5 ║01╎ psha                       │A5┝╸sbc                    │
│ SP 0004          ║02╎ lda a $00                  │A6╎ bnc                    │
│╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌║03╎ psha                       │A7╎                        │
│ H  I  N  Z  V  C ║04┝╸jsr memcpy                 │A8╎                        │
│ 0  0  0  0  0  0 ║05╎                            │A9╎                        │
│╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌║06╎                            │AA╎                        │
│ Machine  RIL011W ║07╎                            │AB╎                        │
│ MPU         6802 ║08╎                            │AC╎                        │
│ ROM    0000-0FFF ║09╎                            │AD╎                        │
│ ACIA   1000-1001 ║0A╎                            │AE╎                        │
│ RAM    2000-FFFF ║0B╎                            │AF╎                        │
┝╸Stack       FFFF ║0C╎                            │B0╎                        │
│╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌║0D╎                            │B1╎                        │
│ Pause      space ║0E╎                            │B2╎                        │
│ Step           s ║0F╎                            │B3╎                        │
│ Interrupt      i ╟─Stack─────────────────────────────────────────────────────┤
│ Exit          ^D ║ 00 01 02 03 04 00 00 00 00 00 00 00 00 00 00 00 00 00 00  │
└──────────────────╨──────────────┸────────────────────────────────────────────┘
|#

#| Mockup 3: With memory view
┌──────────────────╥─Main program──────────────────────────────────────────────┐
│ A    00  B    00 ║00╎ lda a $80                                              │
│ IX 0000  PC 0004 ║01╎ psha                                                   │
│ SP 0004          ║02╎ lda a $00                                              │
│╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌║03╎ psha                                                   │
│ H  I  N  Z  V  C ║04┝╸jsr memcpy                                             │
│ 0  0  0  0  0  0 ║05╎                                                        │
│╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌║06╎                                                        │
│ Machine  RIL011W ║07╎                                                        │
│ MPU         6802 ║08╎                                                        │
┝╸ROM    0000-0FFF ╟─ROM───────────────────────────────────────────────────────┤
│ ACIA   1000-1001 ║0000╎ 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00      │
│ RAM    2000-FFFF ║0010╎ 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00      │
│ Stack       FFFF ║0020╎ 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00      │
│╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌║0030╎ 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00      │
│ Pause      space ║0040╎ 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00      │
│ Step           s ║0050╎ 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00      │
│ Interrupt      i ║0060╎ 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00      │
│ Exit          ^D ║0070╎ 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00      │
└──────────────────╨───────────────────────────────────────────────────────────┘
|#
